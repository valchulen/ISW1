(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,a){e.exports={container:"styles_container__StwFk",item:"styles_item__3ncqc",form:"styles_form__3aHuC",quantity:"styles_quantity__1eT-9",button:"styles_button__3goiE",title:"styles_title__1Srp3",formContainer:"styles_formContainer__3HDz8"}},30:function(e,t,a){e.exports={container:"styles_container__28cdF",title:"styles_title__2aq5n",formContainer:"styles_formContainer__3yM49",textField:"styles_textField__3pxrr"}},31:function(e,t,a){e.exports={container:"styles_container__3ijaf",item:"styles_item__1ULS3",form:"styles_form__2b0Xk",quantity:"styles_quantity__3zMiD",button:"styles_button__Lx7em"}},42:function(e,t,a){e.exports={container:"styles_container__1G7yV",title:"styles_title__3KEhU",formContainer:"styles_formContainer__39DIl"}},43:function(e,t,a){e.exports={container:"styles_container__o9PKw",item:"styles_item__2NaWz"}},56:function(e,t,a){e.exports={topbar:"styles_topbar__1EdBD"}},69:function(e,t,a){e.exports=a(81)},74:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),l=(a(74),a(10)),i=a(59),u=a(22),s=a(113),m=a(57),d=a.n(m),b=a(58),f=a.n(b),E=a(108),h=a(114),p=a(112),v=a(30),_=a.n(v),y=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],d=s[1],b=function(e){e.preventDefault(),t(c,m)};return o.a.createElement("div",{className:_.a.container},o.a.createElement(E.a,null,o.a.createElement("h2",{className:_.a.title}," Inicie Sesion "),o.a.createElement("form",{className:_.a.formContainer,onSubmit:b},o.a.createElement(h.a,{className:_.a.textField,required:!0,placeholder:"Usuario",onChange:function(e){i(e.target.value)}}),o.a.createElement(h.a,{className:_.a.textField,required:!0,type:"password",placeholder:"Contrase\xf1a",onChange:function(e){d(e.target.value)}}),o.a.createElement(p.a,{type:"submit",onClick:b}," Ingresar "))))},C=a(115),S=a(117),j=a(116),O=a(42),k=a.n(O),N=function(e){var t=e.carts,a=e.onSubmit,r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],u=c[1],s=function(e){e.preventDefault(),a(i)};return o.a.createElement("div",{className:k.a.container},o.a.createElement(E.a,null,o.a.createElement("h2",{className:k.a.title}," Seleccione un carrito "),o.a.createElement("form",{className:k.a.formContainer,onSubmit:s},o.a.createElement(S.a,{name:"carts",value:i,onChange:function(e){u(e.target.value)}},t.map((function(e){return function(e){return o.a.createElement(j.a,{value:e.toString(),control:o.a.createElement(C.a,null),label:"Carrito ".concat(e),key:e})}(e)})),o.a.createElement(j.a,{value:"newCart",control:o.a.createElement(C.a,null),label:"Nuevo carrito",key:"newCart"})),o.a.createElement(p.a,{type:"submit",onClick:s}," Seleccionar "))))},g=a(54),w=a.n(g),I=a(31),q=a.n(I),T=[{isbn:0,title:"Titulo1",author:"Autor1"},{isbn:1,title:"Titulo2",author:"Autor2"},{isbn:2,title:"Titulo3",author:"Autor3"},{isbn:3,title:"Titulo4",author:"Autor4"},{isbn:4,title:"Titulo5",author:"Autor5"},{isbn:5,title:"Titulo6",author:"Autor6"}],x=function(e){var t=e.onAddItem,a=e.currentBook,r=Object(n.useState)(0),c=Object(l.a)(r,2),i=c[0],u=c[1];return o.a.createElement("div",{className:q.a.item},o.a.createElement("div",null,o.a.createElement("h4",null," ","Titulo: ".concat(a.title)," "),o.a.createElement("h5",null," ","Autor: ".concat(a.author)," ")),o.a.createElement("form",{className:q.a.form},o.a.createElement(h.a,{id:"quantity",type:"number",className:q.a.quantity,onChange:function(e){u(e.target.value)},inputProps:{min:"0"}}),o.a.createElement(s.a,{type:"submit",onClick:function(e){e.preventDefault(),t(a.isbn,i)},disabled:0==i},o.a.createElement(w.a,null))))},A=function(e){var t=e.onSubmit,a=e.addItem;return o.a.createElement("div",{className:q.a.container},o.a.createElement(E.a,null,T.map((function(e){return o.a.createElement(x,{onAddItem:a,currentBook:e})})),o.a.createElement("div",{className:q.a.button},o.a.createElement(p.a,{onClick:t}," Comprar "))))},H=a(55),F=a.n(H),D=a(17),B=a.n(D),P=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],d=s[1],b=Object(n.useState)(""),f=Object(l.a)(b,2),E=f[0],v=f[1],_=function(e){e.preventDefault(),t(c,m,E)};return o.a.createElement("div",{className:B.a.card},o.a.createElement("h2",{className:B.a.title}," Informacion de pago "),o.a.createElement("form",{className:B.a.formContainer,onSubmit:_},o.a.createElement(h.a,{className:B.a.textField,required:!0,placeholder:"Numero",onChange:function(e){i(e.target.value)}}),o.a.createElement(h.a,{className:B.a.textField,required:!0,placeholder:"Fecha de Expiracion",onChange:function(e){d(e.target.value)}}),o.a.createElement(h.a,{className:B.a.textField,required:!0,placeholder:"Nombre",onChange:function(e){v(e.target.value)}}),o.a.createElement(p.a,{type:"submit",onClick:_}," Cobrar ")))},G=function(e){var t=e.onRemoveItem,a=e.currentBook,r=Object(n.useState)(0),c=Object(l.a)(r,2),i=c[0],u=c[1],m=a&&T[a.isbn];return a?o.a.createElement("div",{className:B.a.item},o.a.createElement("div",null,o.a.createElement("h4",null," ","Titulo: ".concat(m.title)," "),o.a.createElement("h5",null," ","Autor: ".concat(m.author)," "),o.a.createElement("h5",null," ","Cantidad: ".concat(a.quantity)," ")),o.a.createElement("form",{className:B.a.form},o.a.createElement(h.a,{id:"quantity",type:"number",className:B.a.quantity,onChange:function(e){u(e.target.value)},inputProps:{min:"0",max:a.quantity}}),o.a.createElement(s.a,{type:"submit",onClick:function(e){e.preventDefault(),t(a.isbn,i),u(e.target.value)},disabled:0==i},o.a.createElement(F.a,null)))):o.a.createElement("div",null)},R=function(e){var t=e.currentCart,a=e.onSubmit,n=e.removeItem;return o.a.createElement("div",{className:B.a.container},o.a.createElement(E.a,null,t&&t.books&&t.books.map((function(e){return o.a.createElement(G,{onRemoveItem:n,currentBook:e})})),(!t||!t.books||0===t.books.length)&&o.a.createElement("h1",null," NO HAY ELEMENTOS EN SU CARRITO "),t&&t.books&&o.a.createElement(P,{onSubmit:a})))},L=a(43),U=a.n(L),z=function(e){var t=e.history;return o.a.createElement("div",{className:U.a.container},t&&t.books?o.a.createElement(E.a,null,o.a.createElement("h1",{className:U.a.item}," Historial de compras: "),t.books.map((function(e){return o.a.createElement("div",{className:U.a.item}," ",o.a.createElement("h4",null,"Libro: ".concat(T[e.isbn].title))," ",o.a.createElement("h4",null,"Total: $".concat(e.spent))," ")}))):o.a.createElement("h1",null," Vuelva a iniciar sesion "))},J=a(56),M=a.n(J),W=function(e,t){return fetch("http://localhost:".concat(8080,"/").concat(e),{method:t,dataType:"JSON",headers:{"Access-Control-Request-Headers":"*"}})},K=function(e,t){W("/listActiveCarts?clientId=".concat(e,"&password=").concat(t),"GET").then((function(e){return e.json()})).then((function(e){return e.validCarts})).catch((function(e){alert("Hubo un error validando sus datos. \nIntente mas tarde")||window.location.reload()}))},Q=function(){W("/createNewCart","GET").then((function(e){return e.json()})).then((function(e){return{id:e.cartId,books:[]}})).catch((function(e){alert("Hubo un error recuperando sus datos. \nIntente mas tarde")||window.location.reload()}))},V=function(e){W("/listCart?cartId=".concat(e),"GET").then((function(e){return e.json()})).then((function(t){return{id:e,books:t.books}})).catch((function(e){alert("Hubo un error validando sus datos. \nIntente mas tarde")||window.location.reload()}))},$=function(e,t,a){W("/addToCart?cartId=".concat(e,"&bookIsbn=").concat(t,"&bookQuantity=").concat(a),"POST").then((function(e){return e.json()})).then((function(e){return!0})).catch((function(e){alert("Hubo un error agregando la informacion a su carrito. \nIntente mas tarde")||window.location.reload()}))},X=function(e,t,a){W("/deleteFromCart?cartId=".concat(e,"&bookIsbn=").concat(t,"&bookQuantity=").concat(a),"POST").then((function(e){return e.json()})).then((function(e){return!0})).catch((function(e){alert("Hubo un error eliminando la informacion a su carrito. \nIntente mas tarde")||window.location.reload()}))},Y=function(e,t,a,n){W("/checkOutCart?cartId=".concat(e,"&ccn=").concat(t,"&cced=").concat(a,"&cco=").concat(n),"POST").then((function(e){return e.json()})).then((function(e){return!0})).catch((function(e){alert("Hubo un error efectuando la compra. \nIntente mas tarde")||window.location.reload()}))},Z=function(e,t){W("/listPurchases?clientId=".concat(e,"&password=").concat(t),"GET").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){alert("Hubo un recuperando su historial. \nIntente mas tarde")||window.location.reload()}))};var ee=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),m=Object(l.a)(c,2),b=m[0],E=m[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),v=p[0],_=p[1],C=Object(n.useState)({}),S=Object(l.a)(C,2),j=S[0],O=S[1],k=Object(n.useState)(!1),g=Object(l.a)(k,2),w=g[0],I=g[1],q=Object(n.useState)(!1),T=Object(l.a)(q,2),x=T[0],H=T[1],F=Object(n.useState)(!1),D=Object(l.a)(F,2),B=D[0],P=D[1],G=Object(n.useState)(!1),L=Object(l.a)(G,2),U=L[0],J=L[1],W=Object(n.useState)({}),ee=Object(l.a)(W,2),te=ee[0],ae=ee[1],ne=function(){P(!1),I(!1),H(!1),J(!1),r(""),E(""),_([]),O({}),ae({})};return console.log(U),o.a.createElement("div",null,o.a.createElement("div",{className:M.a.topbar},o.a.createElement("div",null,o.a.createElement(s.a,{onClick:function(){ne()},disabled:!w},o.a.createElement(d.a,null))),o.a.createElement("div",null,o.a.createElement(s.a,{onClick:function(){var e=Z(a,b);ne(),ae(e),J(!0)},disabled:!w},o.a.createElement(f.a,null)))),o.a.createElement(i.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"/carritos"},x?o.a.createElement(u.a,{to:"/catalogo"}):w?o.a.createElement(N,{carts:v,onSubmit:function(e){var t;t="newCart"===e?Q():V(e),O(t),H(!0)}}):U?o.a.createElement(u.a,{to:"/historial"}):o.a.createElement(u.a,{to:"/"})),o.a.createElement(u.b,{path:"/catalogo"},B?o.a.createElement(u.a,{to:"/checkout"}):w?o.a.createElement(A,{onSubmit:function(){P(!0)},addItem:function(e,t){var a=!1,n=j.books.map((function(n){return n.isbn==e?(a=!0,{isbn:e,quantity:n.quantity+t}):n}));a||n.push({isbn:e,quantity:t});var o=j.id;O({id:o,books:n}),$(o,e,t)}}):U?o.a.createElement(u.a,{to:"/historial"}):o.a.createElement(u.a,{to:"/"})),o.a.createElement(u.b,{path:"/checkout"},w?o.a.createElement(R,{currentCart:j,onSubmit:function(e,t,a){ne(),Y(j.id,e,t,a)},removeItem:function(e,t){var a=j.books.map((function(a){return a.isbn==e?a.quantity-t>0?{isbn:e,quantity:a.quantity-t}:{isbn:-1,quantity:0}:a}));a=a.filter((function(e){return e.quantity>0}));var n=j.id;O({id:n,books:a}),X(n,e,t)}}):U?o.a.createElement(u.a,{to:"/historial"}):o.a.createElement(u.a,{to:"/"})),o.a.createElement(u.b,{path:"/historial"},U?o.a.createElement(z,{history:te}):o.a.createElement(u.a,{to:"/"})),o.a.createElement(u.b,{exact:!0,path:"/"},w?o.a.createElement(u.a,{to:"/carritos"}):U?o.a.createElement(u.a,{to:"/historial"}):o.a.createElement(y,{onSubmit:function(e,t){r(e),E(t);var a=K(e,t,ne);_(a),I(!0)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.b2e9e5ae.chunk.js.map